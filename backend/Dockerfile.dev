# Development Dockerfile (Dockerfile.dev)
FROM eclipse-temurin:17-jdk

WORKDIR /app

COPY mvnw .
COPY .mvn/ .mvn/
COPY pom.xml .
COPY src/ ./src/

RUN ./mvnw dependency:resolve

ENV SPRING_PROFILES_ACTIVE=dev
ENV MAVEN_OPTS="-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005"
EXPOSE 8080 5005

CMD ["./mvnw", "spring-boot:run"]